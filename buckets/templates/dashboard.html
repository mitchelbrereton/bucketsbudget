
{% extends 'base.html' %}

{% block header %}
  <h1 class="h2">{% block title %}Dashboard{% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-sm-4">
    <div class="card" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title">Budget Account</h5>
        <h6 class="card-subtitle mb-2 text-muted">Available Total</h6>
        <p class="card-text"><b>${{ totalavail }}</b></p>
        <h6 class="card-subtitle mb-2 text-muted">Estimated Total</h6>
        <p class="card-text"><b>${{ totalest }}</b></p>
      </div>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="card" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title">Bank Account</h5>
        <h6 class="card-subtitle mb-2 text-muted">Actual Amount</h6>
        <p class="card-text"><input type="number"></p>
        <a href="#" class="card-link">Account Link</a>
        <a href="#" class="card-link">Sync Account</a>
      </div>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="card" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title">Tips</h5>
        <h6 class="card-subtitle mb-2 text-muted">Something</h6>
        <p class="card-text">Put in some details or a note in here</p>
      </div>
    </div>
  </div>
  
</div>
<br>
<div class="row">
  <div class="col-sm-6">
    <div class="card" style="width: 30rem;">
      <div class="card-body">
        <h5 class="card-title">Budget</h5>
        <h6 class="card-subtitle mb-2 text-muted">Buckets</h6>
        <p class="card-text">
          <div class="table-responsive">
            <table id="mainTable" class="table table-striped table-sm" style="width:100%;margin:0px auto" data-toggle="table"  data-show-export="true" data-group-by="true" data-group-by-field="Group">
              <thead>
                <tr>
                  {%- for column in columns %}
                  <th data-sortable = "{{ column.sortable }}">{{ column.name }}</th>
                  {%- endfor %}
                </tr>
              </thead>
              <tbody>
                {% for row in rows %}
                <tr>
                  {% for field in fields %}
                    <td>{{ row[field] }}</td>
                  {% endfor %}
                {% if not loop.last %}
                <h1>
                  {% endif %}
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </p>
      </div>
    </div>
  </div>
  <div class="col-sm-6">
    <div class="card" style="width: 30rem;">
      <div class="card-body">
        <h5 class="card-title">Recent Transactions</h5>
        <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
        <p class="card-text">
          <div class="table-responsive">
            <table id="mainTable" class="table table-striped table-sm" style="width:100%;margin:0px auto" data-toggle="table" data-show-export="true">
              <thead>
                <tr>
                  {%- for transactcolumn in transactcolumns %}
                  <th data-sortable = "{{ transactcolumn.sortable }}">{{ transactcolumn.name }}</th>
                  {%- endfor %}
                </tr>
              </thead>
              <tbody>
                {% for transactrow in transactrows %}
                <tr>
                  {% for transactfield in transactfields %}
                    <td>{{ transactrow[transactfield] }}</td>
                  {% endfor %}
                {% if not loop.last %}
                <h1>
                  {% endif %}
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </p>
      </div>
    </div>
  </div>
</div>
{% endblock %}